# app.py
import streamlit as st

st.set_page_config(page_title="MBTI 추천꿀템📚🎬", page_icon="✨", layout="centered")

TITLE = "MBTI별 책·영화 추천✨"
st.title(TITLE)
st.write("좋아하는 MBTI를 골라봐! 내가 딱 맞는 책 2권하고 영화 2편을 골라줄게 😊")

MBTIS = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

recommendations = {
    "ISTJ": {
        "books": [
            ("『왜 우리는 일을 하는가』 (심리/비즈니스) 📘", "실용적이고 체계적인 사고를 좋아하는 ISTJ에게 추천"),
            ("『스스로 공부하는 힘』 (자기계발) 📗", "목표 달성과 루틴 만들기 도움")
        ],
        "movies": [
            ("『셜록 홈즈』 (추리) 🕵️‍♂️", "논리적이고 치밀한 전개를 좋아하는 분에게"),
            ("『인턴』 (드라마/코미디) 👔", "일과 책임감에 대해 따뜻하게 생각해볼 수 있어")
        ]
    },
    "ISFJ": {
        "books": [
            ("『작은 것들의 신』 (문학) 📙", "따뜻하고 세심한 감성의 이야기"),
            ("『사랑의 기술』 (심리) 💛", "관계와 공감에 대해 도움되는 책")
        ],
        "movies": [
            ("『빅 피쉬』 (판타지/드라마) 🐟", "감성적이고 가족 이야기를 좋아하면 추천"),
            ("『어바웃 타임』 (로맨스/판타지) ⏳", "다정하고 포근한 분위기")
        ]
    },
    "INFJ": {
        "books": [
            ("『연금술사』 (철학적 소설) ✨", "자기 발견과 내적 여정을 좋아하는 이들에게"),
            ("『침묵의 기술』 (자기성찰) 🌿", "깊은 통찰과 내면 성찰에 도움")
        ],
        "movies": [
            ("『이터널 선샤인』 (로맨스/드라마) 💭", "감정의 깊이를 좋아하는 분께"),
            ("『그랜드 부다페스트 호텔』 (드라마/코미디) 🏨", "스타일리시하고 상징적 표현이 멋짐")
        ]
    },
    "INTJ": {
        "books": [
            ("『사피엔스』 (역사/사상) 📚", "큰 그림을 보는 지적 호기심을 만족시킴"),
            ("『원씽(The One Thing)』 (집중/생산성) 🔍", "전략적 사고에 딱!")
        ],
        "movies": [
            ("『인터스텔라』 (SF) 🚀", "복잡한 아이디어와 큰 스케일을 좋아한다면"),
            ("『메멘토』 (스릴러) 🧩", "논리 퍼즐과 구조에 끌리는 타입에 추천")
        ]
    },
    "ISTP": {
        "books": [
            ("『총, 균, 쇠』 (역사·과학) 🌍", "실용적이고 사실 기반 지식에 흥미를 느끼는 분"),
            ("『오토바이 도둑』 (소설) 🏍️", "모험적이고 행동 중심 이야기")
        ],
        "movies": [
            ("『존 윅』 (액션) 🔫", "직설적이고 액션 중심의 영화 선호"),
            ("『포레스트 검프』 (드라마) 🏃‍♂️", "간결한 스토리지만 강렬한 여운")
        ]
    },
    "ISFP": {
        "books": [
            ("『노르웨이의 숲』 (문학) 🌲", "감성적이고 미적인 표현을 좋아함"),
            ("『예술가처럼 생각하라』 (창의성) 🎨", "감성+창의성 개발에 도움")
        ],
        "movies": [
            ("『라라랜드』 (뮤지컬/로맨스) 🎶", "감각적이고 분위기 있는 작품"),
            ("『월터의 상상은 현실이 된다』 (드라마) 🌈", "작은 꿈과 행복을 응원하는 이야기")
        ]
    },
    "INFP": {
        "books": [
            ("『호밀밭의 파수꾼』 (문학) 🌾", "내면의 고독과 이상주의에 공감"),
            ("『작가란 무엇인가』 (창작/에세이) ✍️", "자기 표현과 창작에 관심 있는 분")
        ],
        "movies": [
            ("『아멜리에』 (로맨스/드라마) 🥐", "몽환적이고 따뜻한 감성을 좋아하면"),
            ("『이터널 선샤인』 (드라마/로맨스) 💔", "감정과 기억의 서사를 깊게 느낄 수 있음")
        ]
    },
    "INTP": {
        "books": [
            ("『코스모스』 (과학 교양) 🌌", "지식 탐구와 개념적 사색에 굉장히 어울림"),
            ("『논리학 입문』 (사고/논리) 🧠", "논리적 구조를 즐기는 분께")
        ],
        "movies": [
            ("『초신성』 (SF/드라마) ✨", "아이디어 중심의 차분한 SF"),
            ("『엑스 마키나』 (SF/스릴러) 🤖", "철학적이고 기술적 질문을 즐긴다면")
        ]
    },
    "ESTP": {
        "books": [
            ("『스피드』 (경제/사회) ⚡", "속도감 있고 현실적인 주제 선호"),
            ("『모험가의 길』 (에세이) 🧭", "도전하는 이야기에 공감")
        ],
        "movies": [
            ("『매드 맥스: 분노의 도로』 (액션) 🏜️", "박진감 넘치는 액션을 좋아하면"),
            ("『캐리비안의 해적』 (어드벤처) 🏴‍☠️", "모험과 즉흥성이 매력적")
        ]
    },
    "ESFP": {
        "books": [
            ("『쇼핑 중독의 심리학』 (대중심리) 🛍️", "사람과 경험 중심의 읽을거리"),
            ("『가벼운 하루』 (에세이) ☕", "일상 속 즐거움을 찾기 좋음")
        ],
        "movies": [
            ("『브리짓 존스의 일기』 (로맨틱 코미디) 💃", "유쾌하고 감성적인 웃음"),
            ("『스쿨 오브 락』 (코미디/음악) 🎸", "열정 넘치고 즐겁게 볼 수 있음")
        ]
    },
    "ENFP": {
        "books": [
            ("『모든 순간의 기록』 (자기계발/창의) ✨", "아이디어와 열정을 키우기 좋아함"),
            ("『빛의 제국』 (소설) 🌟", "상상력 풍부한 작품 추천")
        ],
        "movies": [
            ("『월플라워』 (성장 드라마) 🌼", "감성적 성장 이야기 좋아함"),
            ("『빅 피쉬』 (판타지/드라마) 🐉", "상상력과 감성의 조화")
        ]
    },
    "ENTP": {
        "books": [
            ("『가짜 과학과 진짜 과학』 (비판적 사고) 🧪", "토론과 논쟁을 즐기는 분들에게"),
            ("『혁신의 미학』 (비즈니스/창의) 🚀", "새로운 아이디어에 관심 많은 타입")
        ],
        "movies": [
            ("『인셉션』 (SF/스릴러) 🌀", "복잡한 구조와 아이디어 퍼즐 좋아함"),
            ("『소셜 네트워크』 (드라마) 💻", "토론거리 많은 실화 기반 영화")
        ]
    },
    "ESTJ": {
        "books": [
            ("『리더의 조건』 (경영/리더십) 🏛️", "조직과 규칙을 중시하는 분에게"),
            ("『시간관리의 기술』 (생산성) ⏱️", "체계적인 실행을 돕는 책")
        ],
        "movies": [
            ("『머니볼』 (스포츠/드라마) ⚾", "데이터와 전략, 실행을 좋아한다면"),
            ("『에린 브로코비치』 (드라마) ⚖️", "실무적 결단과 정의를 다룬 실화")
        ]
    },
    "ESFJ": {
        "books": [
            ("『사람을 얻는 기술』 (대인관계) 🤝", "관계형성과 배려를 중시하는 분께"),
            ("『행복한 사람들의 비밀』 (심리) 😊", "사교적이고 긍정적 에너지에 도움")
        ],
        "movies": [
            ("『프라이드 앤 프리저디스』 (로맨스/드라마) 👒", "감정의 교류와 따뜻한 관계를 좋아하면"),
            ("『리틀 미스 선샤인』 (코미디/드라마) 🚗", "가족 이야기와 유대감 있는 영화")
        ]
    },
    "ENFJ": {
        "books": [
            ("『인간관계론』 (심리/리더십) 🌱", "사람을 이끄는 데 관심 많은 분"),
            ("『영향력의 심리학』 (심리) 🗣️", "설득과 영향에 대한 통찰 제공")
        ],
        "movies": [
            ("『굿 윌 헌팅』 (드라마) 🧩", "타인을 돕고 성장시키는 이야기"),
            ("『월-E』 (애니/드라마) 🤖", "감동적이고 메시지 있는 작품")
        ]
    },
    "ENTJ": {
        "books": [
            ("『하드씽』 (경영/실전) ⚙️", "리더십과 의사결정에 관심 많은 분"),
            ("『전략적 사고』 (비즈니스) ♟️", "큰 그림과 전략을 좋아하는 타입")
        ],
        "movies": [
            ("『더 울프 오브 월스트리트』 (드라마) 📈", "야망과 추진력을 다루는 작품"),
            ("『인셉션』 (SF/스릴러) 🧠", "복잡한 플롯과 계획을 즐김")
        ]
    }
}

col1, col2 = st.columns([1, 2])
with col1:
    mbti = st.selectbox("너의 MBTI를 골라줘 ▶", MBTIS, index=0)

with col2:
    st.markdown("### 추천 결과 💡")
    rec = recommendations.get(mbti, None)
    if rec:
        st.markdown(f"**{mbti} 유형을 위한 추천**")
        st.markdown("**📚 책 추천 (2권)**")
        for b, desc in rec["books"]:
            st.markdown(f"- **{b}** — _{desc}_")
        st.markdown("**🎬 영화 추천 (2편)**")
        for m, desc in rec["movies"]:
            st.markdown(f"- **{m}** — _{desc}_")
        st.markdown("---")
        st.write("마음에 드는 추천 있었어? 더 보고 싶으면 MBTI를 바꿔봐~ 😉")
    else:
        st.write("잠깐! 추천을 불러오지 못했어. 다시 시도해줘.")

st.markdown("---")
st.caption("앱 제작: MBTI별 책·영화 추천 | 청소년 친화적 톤으로 제작됨 ✨")
